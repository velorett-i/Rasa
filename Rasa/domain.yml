version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - request_names
  - give_name
  - ask_country
  - query_knowledge_base

entities:
- pais
- country
- info
- object_type
- attribute


forms:
  name_form:
    required_slots:
      - first_name
  country_form:
    required_slots:
      - country

slots:
  object_type:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: object_type

  attribute:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: attribute

  first_name:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
         - active_loop: name_form
           requested_slot: first_name

  country:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: country

  info:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: info
  
  pais:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: pais



responses:
  utter_greet:
  - text: "Hey! I am (...). Can you tell me your name?"

  utter_did_that_help:
  - text: "Did that help you?"

  utter_happy:
  - text: "Great, carry on!"

  utter_goodbye:
  - text: "Bye"

  utter_submit:
  - text: "Ok. Thank you!"

  utter_slots_values:
  - text: "I will remember your name, {first_name}!"

  utter_iamabot:
  - text: "I am a bot, powered by Rasa."

  utter_country:
  - text: "In which country are you right now ?"

  utter_country_help:
  - text: "Ok, since you're in {pais}, I will foward you the help that is available to you there."

actions:
- utter_greet
- utter_slots_values
- utter_submit
- validate_name_form
- utter_country
- utter_country_help
- action_query_knowledge_base


ession_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
