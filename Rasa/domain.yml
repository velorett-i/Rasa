version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - request_names
  - give_name
  - ask_country
  - query_knowledge_base
  - ask_mental_assessment
  - give_age


entities:
- pais
- country
- info
- object_type
- attribute


forms:
  name_form:
    required_slots:
      - first_name

  country_form:
    required_slots:
      - country

  age_form:
    required_slots:
    - age

slots:

  object_type:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: object_type

  attribute:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: attribute

  first_name:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
         - active_loop: name_form
           requested_slot: first_name

  age:
    type: bool
    mappings:
      - type: from_intent
        intent: affirm
        value: true 
        conditions:
        - active_loop: age_form
          requested_slot: age
      - type: from_intent
        intent: deny
        value: false
        conditions:
        - active_loop: age_form
          requested_slot: age
          
  country:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: country

  info:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: info
  
  pais:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: pais

responses:

  utter_greet:
  - text: "Hey! I am (...). I was created to help people find help in different countries, and to 
  help assess your mental health.  Can you tell me your name?"

  utter_did_that_help:
  - text: "Did that help you?"

  utter_happy:
  - text: "Great, carry on!"

  utter_goodbye:
  - text: "Bye"

  utter_submit:
  - text: "Ok. Thank you!"

  utter_slots_values:
  - text: "I will remember your name, {first_name}!"

  utter_iamabot:
  - text: "I am a bot, powered by Rasa."

  utter_country:
  - text: "In which country are you right now ?"

  utter_country_help:
  - text: "Ok, since you're in {pais}, I will foward you the help that is available to you there."

  utter_ask_age:
  - text: "Ok, first of all, I need to know a little more about you.
  Are you 18 or older, {first_name}?"

  utter_ask_assessment:
  - text: "I would like to ask you some questions about the way you're feeling {first_name}, is that okay with you?"

  utter_kind_of_help:
  - text: "What can I do for you today?"

  utter_test:
  - text: "funciona"

#Questionario PTSD (adolescentes e crianças 7 aos 17 anos)

  utter_start_questionaire:
  - text: "You've probably been through a lot {first_name}, and I'm sorry about that, but I want you to know
  that stressful or scary events happen to many people. So, remember that you are not alone, there's a lot of people who have had experiences like these.
  Now, I need you to answer some questions so I can understand how you're dealing with these experiences.
  Is that okay?"

  utter_questionaire_ptsd_start:
  - text: "Okay, thank you for beeing so cooperative {first_name}
  Now, I will list some problems that can happen to people after an upsetting or stressful event.
  What I want you to do is, thinking about that event, tell me how much the following has bothered you in the past month.
  "

  utter_ptsd_1:
  - text: "Picture in your head of what happened. Feels like it is happening right now"
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Sometimes"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - A lot"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Almost always"
      payload: '/inform{"PTSDScore": "4"}'

  utter_ptsd_2:
  - text: "Bad dreams reminding you of what happened."
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'

  utter_ptsd_3:
  - text: "Trying not to think about what happened. Or to not have feelings about it."
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'

  utter_ptsd_4:
  - text: "Staying away from anything that reminds you of what happened (people, places, things, situations, talks). "
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'

  utter_ptsd_5:
  - text: "Being overly careful (checking to see who is around you). "
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'

  utter_ptsd_6:
  - text: "Being jumpy."
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'

  utter_ptsd_7:
  - text: "Having trouble calming down when you are upset (angry, scared or sad). "
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'
  
  utter_ptsd_8:
  - text: "Not being able to have any feelings or feeling empty inside."
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'
  
  utter_ptsd_9:
  - text: "Feeling like a failure."
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'
  
  utter_ptsd_10:
  - text: "Thinking you're not a good person."
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'
  
  utter_ptsd_11:
  - text: "Not feeling close to other peolpe."
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'
  
  utter_ptsd_12:
  - text: "Having a hard time staying close to other people."
    buttons:
      - title: "0 - Never"
        payload: '/inform{"PTSDScore":"0"}'
      - title: "1 - A little bit"
        payload: '/inform{"PTSDScore": "1"}'
      - title: "2 - Sometimes"
        payload: '/inform{"PTSDScore": "2"}'
      - title: "3 - A lot"
        payload: '/inform{"PTSDScore": "3"}'
      - title: "4 - Almost always"
        payload: '/inform{"PTSDScore": "4"}'
    
#Questionario PTSD (adultos)

utter_questionaire_ptsd_start_adults:
  - text: "Okay, thank you for beeing cooperative {first_name}.
  Now, I will list some problems that people sometimes have in response to a very stressful experience. 
  Please read each problem carefully and tell me how much the following has bothered you in the past month.
  "

utter_ptsd_1_adults:
  - text: "In the last month, how much were you bothered by repeated, disturbing, and unwanted memories of the stressful experience?"
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_2_adults:
  - text: "In the last month, how much were you bothered by repeated, disturbing dreams of the stressful experience?"
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_3_adults:
  - text: "In the last month, how much were you bothered by suddenly feeling or acting as if the stressful experience were actually happening again (as if you were actually back there reliving it)? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_4_adults:
  - text: "In the last month, how much were you bothered by feeling very upset when something reminded you of the stressful experience? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_5_adults:
  - text: "In the last month, how much were you bothered by having strong physical reactions when something reminded you of the stressful experience (for example, heart pounding, trouble breathing, sweating)? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_6_adults:
  - text: "In the last month, how much were you bothered by avoiding memories, thoughts, or feelings related to the stressful experience?  "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_7_adults:
  - text: "In the last month, how much were you bothered by avoiding external reminders of the stressful experience (for example, people, places, conversations, activities, objects, or situations)?"
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_8_adults:
  - text: "In the last month, how much were you bothered by trouble remembering important parts of the stressful experience? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore": "0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_9_adults:
  - text: "In the last month, how much were you bothered by having strong negative beliefs about yourself, other people, or the world (for example, having thoughts such as: I am bad, there is something seriously wrong with me, no one can be trusted, the world is completely dangerous)? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_10_adults:
  - text: "In the last month, how much were you bothered by blaming yourself or someone else for the stressful experience or what happened after it?  "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_11_adults:
  - text: "In the last month, how much were you bothered by having strong negative feelings such as fear, horror, anger, guilt, or shame?  "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_12_adults:
  - text: "In the last month, how much were you bothered by loss of interest in activities that you used to enjoy? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_13_adults:
  - text: "In the last month, how much were you bothered by feeling distant or cut off from other people?"
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_14_adults:
  - text: "In the last month, how much were you bothered by trouble experiencing positive feelings (for example, being unable to feel happiness or have loving feelings for people close to you)?"
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_15_adults:
  - text: "In the last month, how much were you bothered by irritable behavior, angry outbursts, or acting aggressively?"
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_16_adults:
  - text: "In the last month, how much were you bothered by taking too many risks or doing things that could cause you harm?"
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_17_adults:
  - text: "In the last month, how much were you bothered by being “superalert” or watchful or on guard? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_18_adults:
  - text: "In the last month, how much were you bothered by feeling jumpy or easily startled? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_19_adults:
  - text: "In the last month, how much were you bothered by having difficulty concentrating? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

utter_ptsd_20_adults:
  - text: "In the last month, how much were you bothered by trouble falling or staying asleep? "
    buttons:
    - title: "0 - Never"
      payload: '/inform{"PTSDScore":"0"}'
    - title: "1 - A little bit"
      payload: '/inform{"PTSDScore": "1"}'
    - title: "2 - Moderately"
      payload: '/inform{"PTSDScore": "2"}'
    - title: "3 - Quite a bit"
      payload: '/inform{"PTSDScore": "3"}'
    - title: "4 - Extremely"
      payload: '/inform{"PTSDScore": "4"}'

actions:
- utter_greet
- utter_slots_values
- utter_submit
- validate_name_form
- utter_country
- utter_country_help
- action_query_knowledge_base
- utter_start_questionaire
- validade_score_form


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
